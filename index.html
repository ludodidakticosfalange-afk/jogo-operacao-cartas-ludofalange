<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Opera√ß√£o Escolar ‚Äî Cartas (78) | Tela + Impress√£o</title>

<style>
  :root{
    --bg:#050814;
    --txt:#e5e7eb;
    --muted:#a8b3cf;
    --stroke: rgba(255,255,255,.12);
    --accent:#60a5fa;
    --ok:#22c55e;
    --bad:#ef4444;
  }
  *{box-sizing:border-box}
  body{
    margin:0; color:var(--txt);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background: radial-gradient(1200px 700px at 18% 10%, #1b2a6b 0%, var(--bg) 55%);
  }

  header{
    position:sticky; top:0; z-index:10;
    padding:12px 14px;
    display:flex; gap:10px; flex-wrap:wrap;
    align-items:center; justify-content:space-between;
    border-bottom:1px solid rgba(255,255,255,.10);
    background: rgba(0,0,0,.18);
    backdrop-filter: blur(10px);
  }
  .brand{display:flex; flex-direction:column; gap:2px}
  .brand b{letter-spacing:.3px}
  .brand small{color:var(--muted)}
  .hud{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
  .pill{
    border:1px solid var(--stroke);
    background: rgba(0,0,0,.18);
    border-radius:999px;
    padding:7px 10px;
    font-size:13px;
    color:var(--muted);
    white-space:nowrap;
  }
  .pill b{color:var(--txt)}
  .btn{
    cursor:pointer; border:none; border-radius:12px; padding:10px 12px;
    font-weight:900; color:#081022; background:#e8eefc;
    box-shadow: 0 12px 30px rgba(0,0,0,.28);
    user-select:none; white-space:nowrap;
  }
  .btn.secondary{
    color:var(--txt); background: rgba(255,255,255,.10);
    border:1px solid rgba(255,255,255,.14); box-shadow:none;
  }

  main{ max-width:1300px; margin:0 auto; padding:14px; }

  /* GRID ‚Äúmem√≥ria‚Äù */
  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap:12px;
  }

  .memCard{
    position:relative;
    height:400px;
    min-height:400px;
    max-height:400px;
    perspective:1200px;
  }

  .inner{
    position:relative; inset:0;
    min-height:100%;
    height:100%;
    transform-style:preserve-3d;
    transition: transform .55s cubic-bezier(.2,.9,.2,1);
    border-radius:18px;
  }
  .memCard.flipped .inner{ transform: rotateY(180deg); }
  .memCard.locked  .inner{ transform: rotateY(180deg); }

  .face{
    position:absolute;
    inset:0;
    height:100%;
    border-radius:18px;
    backface-visibility:hidden;
    overflow:hidden;
    border:2px solid rgba(255,255,255,.10);
    box-shadow:0 18px 55px rgba(0,0,0,.35);
  }

  /* VERSO (capa) */
  .back{
    position:relative;
    background: rgba(0,0,0,.2);
    display:grid;
    place-items:stretch;
  }
  .back img{
    width:100%;
    height:100%;
    object-fit:cover;
    filter:saturate(1.05) contrast(1.05);
  }
  .back .stamp{
    position:absolute;
    bottom:10px; left:10px; right:10px;
    background: rgba(0,0,0,.45);
    border:1px solid rgba(255,255,255,.12);
    border-radius:12px;
    padding:8px 10px;
    font-weight:900;
    letter-spacing:.5px;
    text-align:center;
  }

  /* FRENTE */
  .front{
    transform: rotateY(180deg);
    background:
      radial-gradient(900px 400px at 10% 0%, rgba(96,165,250,.16), transparent 55%),
      rgba(2,6,23,.88);
    padding:12px;
    display:flex;
    flex-direction:column;
    gap:10px;
  }
  .topline{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:8px;
    padding:8px 10px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.06);
    font-weight:900;
    font-size:12px;
  }
  .tag{
    padding:4px 8px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.06);
    white-space:nowrap;
  }
  .q{ font-weight:900; font-size:13px; line-height:1.25; }

  .silBox{
    display:none;
    border:1px dashed rgba(255,255,255,.25);
    background: rgba(255,255,255,.06);
    border-radius:14px;
    padding:8px;
    gap:8px;
    align-items:center;
  }
  .silBox.show{ display:flex; }
  .silBox img{
    width:64px; height:64px; object-fit:contain;
    filter: drop-shadow(0 6px 12px rgba(0,0,0,.55));
    background: rgba(0,0,0,.12);
    border-radius:12px;
    padding:6px;
  }
  .silBox .silTxt{ font-size:12px; font-weight:900; opacity:.95; }
  .silBox .silHint{ display:none; }

  .opts{ display:grid; gap:8px; margin-top:auto; }
  .opt{
    border:1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.06);
    color: var(--txt);
    border-radius:12px;
    padding:10px;
    font-weight:900;
    font-size:12px;
    cursor:pointer;
    transition: transform .05s ease, background .12s ease, border-color .12s ease;
    text-align:left;
  }
  .opt:active{transform: translateY(1px)}
  .opt.correct{border-color: rgba(34,197,94,.55); background: rgba(34,197,94,.14)}
  .opt.wrong{border-color: rgba(239,68,68,.55); background: rgba(239,68,68,.12)}
  .opt.lock{opacity:.78; pointer-events:none}

  .mini{
    font-size:11px;
    color:var(--muted);
    text-align:center;
    margin-top:12px;
  }

  /* cores por tipo */
  .easy  { border-color: rgba(34,197,94,.45) !important; }
  .med   { border-color: rgba(96,165,250,.55) !important; }
  .hard  { border-color: rgba(245,158,11,.60) !important; }
  .sil   { border-color: rgba(168,85,247,.65) !important; }
  .dis   { border-color: rgba(239,68,68,.55) !important; }

  /* ===== √ÅREA DE IMPRESS√ÉO (FRENTE + CAPA) ===== */
  .printArea{ display:none; }
  .sheetTitle{
    display:none;
    font-weight:900;
    margin:0 0 6mm 0;
    font-size:12pt;
    color:#000;
  }
  .sheetGrid{
    display:grid;
    grid-template-columns: repeat(3, 56mm);
    gap:8mm;
    justify-content:center;
    align-items:start;
  }
  .pCard{
    width:56mm;
    height:87mm;
    border-radius:18px;
    overflow:hidden;
    border:2px solid rgba(0,0,0,.12);
    page-break-inside: avoid;
    break-inside: avoid;
    background:#fff;
  }

  /* Frente impressa (2D) */
  .pFront{
    height:100%;
    padding:12px;
    display:flex;
    flex-direction:column;
    gap:10px;
    background:#fff;
    color:#000;
  }
  .pTopline{
    display:flex;
    justify-content:space-between;
    gap:8px;
    padding:8px 10px;
    border-radius:14px;
    border:1px solid rgba(0,0,0,.18);
    background:#fff;
    font-weight:900;
    font-size:10pt;
  }
  .pTag{
    padding:3px 7px;
    border-radius:999px;
    border:1px solid rgba(0,0,0,.18);
    background:#fff;
    white-space:nowrap;
  }
  .pQ{ font-weight:900; font-size:10.5pt; line-height:1.15; }

  .pOpts{ display:grid; gap:6px; margin-top:auto; }
  .pOpt{
    border:1px solid rgba(0,0,0,.20);
    border-radius:10px;
    padding:8px;
    font-weight:900;
    font-size:9.5pt;
  }

  /* SILHUETA (impress√£o): s√≥ nas cartas silhueta, ao lado das respostas */
  .pFront.sil{
    display:grid;
    grid-template-columns: 1fr 26mm;   /* LARGURA DO QUADRANTE -> ajusta aqui */
    grid-template-rows: auto auto 1fr;
    grid-template-areas:
      "top top"
      "q   q"
      "opts sil";
    column-gap: 3mm;
    align-items: stretch;
  }
  .pFront.sil .pTopline{ grid-area: top; }
  .pFront.sil .pQ{ grid-area: q; }
  .pFront.sil .pOpts{ grid-area: opts; }

  .pSil{
    grid-area: sil;
    border:1px dashed rgba(0,0,0,.35);
    border-radius:14px;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:2mm;
    overflow:hidden;
    background:#fff;
  }
  .pSil img{
    width:100%;
    height:100%;
    object-fit:contain; /* N√ÉO CORTA */
  }

  /* Capa impressa (2D) */
  .pBack{
    height:100%;
    position:relative;
    display:flex;
    align-items:stretch;
    justify-content:stretch;
    background:#fff;
  }
  .pBack img{
    width:100%;
    height:100%;
    object-fit:cover;
  }
  .pStamp{
    position:absolute;
    bottom:6mm; left:6mm; right:6mm;
    background:rgba(0,0,0,.65);
    color:#fff;
    border-radius:12px;
    padding:8px 10px;
    font-weight:900;
    text-align:center;
    font-size:10pt;
  }

  /* ===== IMPRESS√ÉO ===== */
  @media print{
    @page{ size:A4; margin:12mm; }

    body{ background:#fff !important; color:#000 !important; }
    header{ display:none !important; }
    main{ display:none !important; }

    .printArea{ display:block !important; }
    .sheetTitle{ display:block !important; }

    /* Quebra entre ‚ÄúFrentes‚Äù e ‚ÄúCapas‚Äù */
    .pageBreak{ break-before: page; page-break-before: always; }
  }
/* ===== LOGOS NO HEADER ===== */
.brandRow{
  display:flex;
  align-items:center;
  gap:10px;
}

.logos{
  display:flex;
  align-items:center;
  gap:10px;
}

.logoImg{
  height:34px;         /* ajuste aqui se quiser maior/menor */
  width:auto;
  display:block;
  filter: drop-shadow(0 6px 14px rgba(0,0,0,.35));
  border-radius:8px;
}

.logoImg.small{
  height:28px;         /* a menor (LUDO) */
  opacity:.95;
}

/* Se voc√™ N√ÉO quiser logos na impress√£o, deixa assim */
@media print{
  .logos{ display:none !important; }
}

</style>
</head>

<body>
<header>
  <div class="brand">
  <div class="brandRow">
    <div class="logos">
      <img class="logoImg" src="falange.png" alt="Falange Educaci√≥n L√∫dica">
      <img class="logoImg small" src="ludodidakticos.png.jpg" alt="Ludo Didakticos">
    </div>
  </div>

  <b>Opera√ß√£o Escolar ‚Äî Cartas (78) ‚Ä¢ Tela + Impress√£o</b>
  <small>Tela: cartas espalhadas ‚Ä¢ Impress√£o: id√™ntica (mesma carta) em A4 3√ó3</small>
</div>


  <div class="hud">
    <div class="pill">Pontos: <b id="score">0</b></div>
    <div class="pill">Respondidas: <b id="answered">0</b></div>
    <div class="pill">Total: <b id="total">0</b></div>

    <button class="btn secondary" id="btnReembaralhar">Reembaralhar</button>
    <button class="btn" id="btnPrint">Imprimir (Frente + Capa)</button>
  </div>
</header>

<main>
  <div class="grid" id="grid"></div>
  <div class="mini">Clique na carta para virar ‚Ä¢ Responda ‚Ä¢ A carta trava ap√≥s responder ‚Ä¢ Para imprimir: bot√£o ‚ÄúImprimir‚Äù.</div>
</main>

<!-- √ÅREA DE IMPRESS√ÉO (s√≥ aparece no papel) -->
<section class="printArea" id="printArea" aria-hidden="true"></section>

<script>
/* nomes */
const ORG_NAME = {"cerebro":"C√©rebro","pulmoes":"Pulm√µes","coracao":"Cora√ß√£o","traqueia":"Traqueia","esofago":"Es√¥fago","estomago":"Est√¥mago","int_del":"Intestino Delgado","int_gro":"Intestino Grosso","figado":"F√≠gado","pancreas":"P√¢ncreas","rins":"Rins","bexiga":"Bexiga","medula":"Medula Espinhal"};

/* DECK (seu deck completo) */
const DECK = [{"orgId":"cerebro","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o controla pensamentos, movimentos e sentidos do corpo?","opcoes":["Cora√ß√£o","Pulm√µes","C√©rebro","Est√¥mago"],"correta":"C√©rebro","silhueta":false},{"orgId":"cerebro","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o faz parte do sistema nervoso e comanda as a√ß√µes do corpo?","opcoes":["Rins","C√©rebro","F√≠gado","Intestinos"],"correta":"C√©rebro","silhueta":false},{"orgId":"cerebro","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o possui regi√µes como lobo frontal, parietal, temporal e occipital?","opcoes":["Medula espinhal","C√©rebro","Pulm√µes","Cora√ß√£o"],"correta":"C√©rebro","silhueta":false},{"orgId":"cerebro","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"O Alzheimer √© uma doen√ßa que afeta principalmente qual √≥rg√£o?","opcoes":["Pulm√µes","Cora√ß√£o","C√©rebro","F√≠gado"],"correta":"C√©rebro","silhueta":false},{"orgId":"cerebro","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o interpreta informa√ß√µes vindas dos sentidos?","opcoes":["Pulm√µes","Medula espinhal","C√©rebro","Cora√ß√£o"],"correta":"C√©rebro","silhueta":false},{"orgId":"cerebro","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["F√≠gado","Pulm√µes","C√©rebro","Intestinos"],"correta":"C√©rebro","silhueta":true},{"orgId":"pulmoes","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o √© respons√°vel pela respira√ß√£o?","opcoes":["Cora√ß√£o","Pulm√µes","Rins","F√≠gado"],"correta":"Pulm√µes","silhueta":false},{"orgId":"pulmoes","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o puxa o ar e ajuda o corpo a receber oxig√™nio?","opcoes":["Pulm√µes","Est√¥mago","C√©rebro","Bexiga"],"correta":"Pulm√µes","silhueta":false},{"orgId":"pulmoes","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o realiza a troca gasosa (O2 entra e CO2 sai)?","opcoes":["Pulm√µes","Cora√ß√£o","F√≠gado","Rins"],"correta":"Pulm√µes","silhueta":false},{"orgId":"pulmoes","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A asma afeta principalmente qual √≥rg√£o?","opcoes":["Cora√ß√£o","Pulm√µes","F√≠gado","Intestino"],"correta":"Pulm√µes","silhueta":false},{"orgId":"pulmoes","tipo":"Dif√≠cil","pts":30,"pergunta":"Em qual √≥rg√£o os alv√©olos pulmonares est√£o presentes?","opcoes":["Pulm√µes","Cora√ß√£o","Est√¥mago","Rins"],"correta":"Pulm√µes","silhueta":false},{"orgId":"pulmoes","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["Pulm√µes","C√©rebro","F√≠gado","Rins"],"correta":"Pulm√µes","silhueta":true},{"orgId":"coracao","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o bombeia o sangue para todo o corpo?","opcoes":["Pulm√µes","Cora√ß√£o","F√≠gado","Rins"],"correta":"Cora√ß√£o","silhueta":false},{"orgId":"coracao","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o trabalha sem parar, batendo o tempo todo?","opcoes":["C√©rebro","Cora√ß√£o","Est√¥mago","Intestino"],"correta":"Cora√ß√£o","silhueta":false},{"orgId":"coracao","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o possui √°trios e ventr√≠culos?","opcoes":["Cora√ß√£o","Pulm√µes","Rins","F√≠gado"],"correta":"Cora√ß√£o","silhueta":false},{"orgId":"coracao","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"O infarto √© um problema que afeta principalmente qual √≥rg√£o?","opcoes":["Pulm√µes","Est√¥mago","Cora√ß√£o","Bexiga"],"correta":"Cora√ß√£o","silhueta":false},{"orgId":"coracao","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o √© respons√°vel por manter a circula√ß√£o do sangue?","opcoes":["Cora√ß√£o","Pulm√µes","F√≠gado","P√¢ncreas"],"correta":"Cora√ß√£o","silhueta":false},{"orgId":"coracao","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["C√©rebro","Pulm√µes","F√≠gado","Cora√ß√£o"],"correta":"Cora√ß√£o","silhueta":true},{"orgId":"traqueia","tipo":"F√°cil","pts":10,"pergunta":"Qual estrutura leva o ar at√© os pulm√µes?","opcoes":["Traqueia","Es√¥fago","Cora√ß√£o","Est√¥mago"],"correta":"Traqueia","silhueta":false},{"orgId":"traqueia","tipo":"F√°cil","pts":10,"pergunta":"Qual parte do corpo conecta a laringe aos br√¥nquios?","opcoes":["Es√¥fago","Traqueia","Rins","F√≠gado"],"correta":"Traqueia","silhueta":false},{"orgId":"traqueia","tipo":"M√©dia","pts":20,"pergunta":"Qual estrutura possui an√©is cartilaginosos para n√£o fechar durante a passagem do ar?","opcoes":["Traqueia","Es√¥fago","Intestino","Cora√ß√£o"],"correta":"Traqueia","silhueta":false},{"orgId":"traqueia","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A traque√≠te √© uma inflama√ß√£o que atinge qual estrutura?","opcoes":["Traqueia","Es√¥fago","Pulm√µes","F√≠gado"],"correta":"Traqueia","silhueta":false},{"orgId":"traqueia","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual estrutura se divide em dois br√¥nquios, um para cada pulm√£o?","opcoes":["Traqueia","Es√¥fago","Cora√ß√£o","Rins"],"correta":"Traqueia","silhueta":false},{"orgId":"traqueia","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual estrutura √© representada?","opcoes":["Traqueia","Es√¥fago","Pulm√µes","Bexiga"],"correta":"Traqueia","silhueta":true},{"orgId":"esofago","tipo":"F√°cil","pts":10,"pergunta":"Qual estrutura leva o alimento da boca at√© o est√¥mago?","opcoes":["Traqueia","Es√¥fago","Pulm√µes","Cora√ß√£o"],"correta":"Es√¥fago","silhueta":false},{"orgId":"esofago","tipo":"F√°cil","pts":10,"pergunta":"Qual estrutura faz parte do sistema digest√≥rio e transporta o bolo alimentar?","opcoes":["Es√¥fago","Traqueia","C√©rebro","Rins"],"correta":"Es√¥fago","silhueta":false},{"orgId":"esofago","tipo":"M√©dia","pts":20,"pergunta":"Qual estrutura realiza movimentos perist√°lticos para empurrar o alimento?","opcoes":["Es√¥fago","Pulm√µes","Cora√ß√£o","Bexiga"],"correta":"Es√¥fago","silhueta":false},{"orgId":"esofago","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A esofagite √© uma inflama√ß√£o que afeta qual estrutura?","opcoes":["Es√¥fago","Traqueia","Pulm√µes","F√≠gado"],"correta":"Es√¥fago","silhueta":false},{"orgId":"esofago","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual estrutura pode sofrer refluxo quando o conte√∫do do est√¥mago volta?","opcoes":["Es√¥fago","Traqueia","Intestino","Cora√ß√£o"],"correta":"Es√¥fago","silhueta":false},{"orgId":"esofago","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual estrutura √© representada?","opcoes":["Es√¥fago","Traqueia","Est√¥mago","Cora√ß√£o"],"correta":"Es√¥fago","silhueta":true},{"orgId":"estomago","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o mistura o alimento com sucos digestivos?","opcoes":["Est√¥mago","Pulm√µes","C√©rebro","Rins"],"correta":"Est√¥mago","silhueta":false},{"orgId":"estomago","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o ajuda a iniciar a digest√£o das prote√≠nas?","opcoes":["Est√¥mago","F√≠gado","Cora√ß√£o","Bexiga"],"correta":"Est√¥mago","silhueta":false},{"orgId":"estomago","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o produz √°cido g√°strico?","opcoes":["Est√¥mago","P√¢ncreas","F√≠gado","Intestino"],"correta":"Est√¥mago","silhueta":false},{"orgId":"estomago","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A gastrite √© uma inflama√ß√£o que afeta qual √≥rg√£o?","opcoes":["Est√¥mago","F√≠gado","P√¢ncreas","Intestino"],"correta":"Est√¥mago","silhueta":false},{"orgId":"estomago","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o transforma o alimento em quimo antes de ir para o intestino?","opcoes":["Est√¥mago","Pulm√µes","Cora√ß√£o","Rins"],"correta":"Est√¥mago","silhueta":false},{"orgId":"estomago","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["Est√¥mago","F√≠gado","Pulm√µes","C√©rebro"],"correta":"Est√¥mago","silhueta":true},{"orgId":"int_del","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o absorve a maior parte dos nutrientes dos alimentos?","opcoes":["Intestino Delgado","Intestino Grosso","Est√¥mago","F√≠gado"],"correta":"Intestino Delgado","silhueta":false},{"orgId":"int_del","tipo":"F√°cil","pts":10,"pergunta":"Qual parte do intestino √© mais longa e fina?","opcoes":["Intestino Delgado","Intestino Grosso","Es√¥fago","Traqueia"],"correta":"Intestino Delgado","silhueta":false},{"orgId":"int_del","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o continua a digest√£o e absor√ß√£o ap√≥s o est√¥mago?","opcoes":["Intestino Delgado","Intestino Grosso","Pulm√µes","Cora√ß√£o"],"correta":"Intestino Delgado","silhueta":false},{"orgId":"int_del","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A enterite √© uma inflama√ß√£o que pode afetar principalmente qual parte?","opcoes":["Intestino Delgado","Cora√ß√£o","Pulm√µes","Bexiga"],"correta":"Intestino Delgado","silhueta":false},{"orgId":"int_del","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o possui vilosidades intestinais para aumentar a absor√ß√£o?","opcoes":["Intestino Delgado","Est√¥mago","F√≠gado","Rins"],"correta":"Intestino Delgado","silhueta":false},{"orgId":"int_del","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["Intestino Delgado","Intestino Grosso","Est√¥mago","P√¢ncreas"],"correta":"Intestino Delgado","silhueta":true},{"orgId":"int_gro","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o absorve √°gua e forma as fezes?","opcoes":["Intestino Grosso","Intestino Delgado","Est√¥mago","Pulm√µes"],"correta":"Intestino Grosso","silhueta":false},{"orgId":"int_gro","tipo":"F√°cil","pts":10,"pergunta":"Qual parte do intestino √© mais curta e mais larga?","opcoes":["Intestino Grosso","Intestino Delgado","Es√¥fago","Traqueia"],"correta":"Intestino Grosso","silhueta":false},{"orgId":"int_gro","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o compacta o conte√∫do e absorve mais √°gua?","opcoes":["Intestino Grosso","Intestino Delgado","Cora√ß√£o","Rins"],"correta":"Intestino Grosso","silhueta":false},{"orgId":"int_gro","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A colite √© uma inflama√ß√£o que afeta qual √≥rg√£o?","opcoes":["Intestino Grosso","Intestino Delgado","F√≠gado","P√¢ncreas"],"correta":"Intestino Grosso","silhueta":false},{"orgId":"int_gro","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o cont√©m a microbiota intestinal, importante para a sa√∫de?","opcoes":["Intestino Grosso","Pulm√µes","C√©rebro","Cora√ß√£o"],"correta":"Intestino Grosso","silhueta":false},{"orgId":"int_gro","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["Intestino Grosso","Intestino Delgado","Est√¥mago","F√≠gado"],"correta":"Intestino Grosso","silhueta":true},{"orgId":"figado","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o ajuda a desintoxicar o corpo?","opcoes":["F√≠gado","Pulm√µes","Cora√ß√£o","Bexiga"],"correta":"F√≠gado","silhueta":false},{"orgId":"figado","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o produz bile?","opcoes":["F√≠gado","P√¢ncreas","Est√¥mago","Intestino"],"correta":"F√≠gado","silhueta":false},{"orgId":"figado","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o armazena glicog√™nio e ajuda a regular a glicose?","opcoes":["F√≠gado","Rins","Pulm√µes","C√©rebro"],"correta":"F√≠gado","silhueta":false},{"orgId":"figado","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A hepatite afeta principalmente qual √≥rg√£o?","opcoes":["F√≠gado","Pulm√µes","Cora√ß√£o","Intestino"],"correta":"F√≠gado","silhueta":false},{"orgId":"figado","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o metaboliza muitas subst√¢ncias e medicamentos?","opcoes":["F√≠gado","Bexiga","Cora√ß√£o","Pulm√µes"],"correta":"F√≠gado","silhueta":false},{"orgId":"figado","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["F√≠gado","Pulm√µes","C√©rebro","Rins"],"correta":"F√≠gado","silhueta":true},{"orgId":"pancreas","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o produz insulina?","opcoes":["P√¢ncreas","F√≠gado","Cora√ß√£o","Pulm√µes"],"correta":"P√¢ncreas","silhueta":false},{"orgId":"pancreas","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o ajuda na digest√£o produzindo enzimas?","opcoes":["P√¢ncreas","Bexiga","Rins","C√©rebro"],"correta":"P√¢ncreas","silhueta":false},{"orgId":"pancreas","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o est√° ligado ao controle do a√ß√∫car no sangue?","opcoes":["P√¢ncreas","F√≠gado","Intestino Grosso","Pulm√µes"],"correta":"P√¢ncreas","silhueta":false},{"orgId":"pancreas","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"O diabetes est√° relacionado principalmente a qual √≥rg√£o?","opcoes":["P√¢ncreas","Pulm√µes","C√©rebro","Rins"],"correta":"P√¢ncreas","silhueta":false},{"orgId":"pancreas","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o secreta suco pancre√°tico no intestino delgado?","opcoes":["P√¢ncreas","Est√¥mago","Cora√ß√£o","Bexiga"],"correta":"P√¢ncreas","silhueta":false},{"orgId":"pancreas","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["P√¢ncreas","F√≠gado","Rins","Pulm√µes"],"correta":"P√¢ncreas","silhueta":true},{"orgId":"rins","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o filtra o sangue e produz urina?","opcoes":["Rins","Cora√ß√£o","Pulm√µes","F√≠gado"],"correta":"Rins","silhueta":false},{"orgId":"rins","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o ajuda a eliminar subst√¢ncias do sangue?","opcoes":["Rins","Est√¥mago","C√©rebro","Pulm√µes"],"correta":"Rins","silhueta":false},{"orgId":"rins","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o ajuda a controlar a quantidade de √°gua e sais no corpo?","opcoes":["Rins","Cora√ß√£o","F√≠gado","Intestino"],"correta":"Rins","silhueta":false},{"orgId":"rins","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A insufici√™ncia renal afeta qual √≥rg√£o?","opcoes":["Rins","Pulm√µes","Cora√ß√£o","F√≠gado"],"correta":"Rins","silhueta":false},{"orgId":"rins","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o produz horm√¥nios que ajudam a regular a press√£o arterial?","opcoes":["Rins","Est√¥mago","Bexiga","Pulm√µes"],"correta":"Rins","silhueta":false},{"orgId":"rins","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["Rins","Pulm√µes","C√©rebro","F√≠gado"],"correta":"Rins","silhueta":true},{"orgId":"bexiga","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o armazena a urina?","opcoes":["Bexiga","Rins","F√≠gado","Pulm√µes"],"correta":"Bexiga","silhueta":false},{"orgId":"bexiga","tipo":"F√°cil","pts":10,"pergunta":"Qual √≥rg√£o do sistema urin√°rio guarda a urina at√© ser eliminada?","opcoes":["Bexiga","Cora√ß√£o","Est√¥mago","C√©rebro"],"correta":"Bexiga","silhueta":false},{"orgId":"bexiga","tipo":"M√©dia","pts":20,"pergunta":"Qual √≥rg√£o recebe a urina produzida pelos rins?","opcoes":["Bexiga","Pulm√µes","F√≠gado","Intestino"],"correta":"Bexiga","silhueta":false},{"orgId":"bexiga","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"A cistite √© uma inflama√ß√£o que afeta qual √≥rg√£o?","opcoes":["Bexiga","Rins","Cora√ß√£o","Pulm√µes"],"correta":"Bexiga","silhueta":false},{"orgId":"bexiga","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual √≥rg√£o se contrai para expelir a urina?","opcoes":["Bexiga","F√≠gado","C√©rebro","Pulm√µes"],"correta":"Bexiga","silhueta":false},{"orgId":"bexiga","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual √≥rg√£o √© representado?","opcoes":["Bexiga","Rins","Cora√ß√£o","Est√¥mago"],"correta":"Bexiga","silhueta":true},{"orgId":"medula","tipo":"F√°cil","pts":10,"pergunta":"Qual estrutura transmite informa√ß√µes entre o c√©rebro e o corpo?","opcoes":["Medula Espinhal","Cora√ß√£o","Pulm√µes","Est√¥mago"],"correta":"Medula Espinhal","silhueta":false},{"orgId":"medula","tipo":"F√°cil","pts":10,"pergunta":"Qual estrutura faz parte do sistema nervoso central junto com o c√©rebro?","opcoes":["Medula Espinhal","Rins","F√≠gado","Intestino"],"correta":"Medula Espinhal","silhueta":false},{"orgId":"medula","tipo":"M√©dia","pts":20,"pergunta":"Qual estrutura √© respons√°vel por reflexos r√°pidos, como retirar a m√£o do fogo?","opcoes":["Medula Espinhal","Cora√ß√£o","Pulm√µes","Bexiga"],"correta":"Medula Espinhal","silhueta":false},{"orgId":"medula","tipo":"M√©dia (Doen√ßa)","pts":20,"pergunta":"Uma les√£o medular afeta diretamente qual estrutura?","opcoes":["Medula Espinhal","Pulm√µes","F√≠gado","Rins"],"correta":"Medula Espinhal","silhueta":false},{"orgId":"medula","tipo":"Dif√≠cil","pts":30,"pergunta":"Qual estrutura est√° protegida pela coluna vertebral?","opcoes":["Medula Espinhal","Cora√ß√£o","Est√¥mago","Pulm√µes"],"correta":"Medula Espinhal","silhueta":false},{"orgId":"medula","tipo":"Silhueta","pts":25,"pergunta":"Silhueta: Qual estrutura √© representada?","opcoes":["Medula Espinhal","C√©rebro","Traqueia","Es√¥fago"],"correta":"Medula Espinhal","silhueta":true}];

/* util */
function shuffle(arr){
  const a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}
function typeClass(t){
  const s = (t||"").toLowerCase();
  if(s.includes("silhueta")) return "sil";
  if(s.includes("doen√ßa") || s.includes("doenca")) return "dis";
  if(s.includes("dif√≠cil") || s.includes("dificil")) return "hard";
  if(s.includes("m√©dia") || s.includes("media")) return "med";
  return "easy";
}

/* estado */
let score = 0;
let answered = 0;
let cards = [];

const $grid = document.getElementById("grid");
const $score = document.getElementById("score");
const $answered = document.getElementById("answered");
const $total = document.getElementById("total");
const $printArea = document.getElementById("printArea");

document.getElementById("btnReembaralhar").addEventListener("click", init);
document.getElementById("btnPrint").addEventListener("click", ()=>{
  renderPrintArea();   // monta frentes + capas
  window.print();      // imprime de uma vez
});

/* tela */
function init(){
  score = 0;
  answered = 0;
  $score.textContent = score;
  $answered.textContent = answered;

  cards = shuffle(DECK).map((c, idx)=>({
    ...c, idx, locked:false, flipped:false
  }));

  $total.textContent = cards.length;
  renderGrid();
}

function renderGrid(){
  $grid.innerHTML = "";
  cards.forEach((c)=>{
    const wrap = document.createElement("div");
    wrap.className = "memCard";

    const inner = document.createElement("div");
    inner.className = "inner";

    const back = document.createElement("div");
    back.className = "face back";
    back.innerHTML = `
      <img src="deck_capa.png" alt="Capa do baralho">
      <div class="stamp">CLIQUE PARA VIRAR</div>
    `;

    const front = document.createElement("div");
    front.className = `face front ${typeClass(c.tipo)}`;

    const tag = document.createElement("div");
tag.className = "topline";
tag.innerHTML = `
  
  <span class="tag">üí∞ ${c.pts}</span>
`;




    const q = document.createElement("div");
    q.className = "q";
    q.textContent = c.pergunta;

    const sil = document.createElement("div");
    sil.className = "silBox" + (c.silhueta ? " show" : "");
    sil.innerHTML = `
      <img src="sil_${c.orgId}.png" alt="" onerror="this.style.display='none'">
      <div>
        <div class="silTxt">CARTA DE SILHUETA</div>
        <div class="silHint">Opcional: sil_${c.orgId}.png</div>
      </div>
    `;

    const opts = document.createElement("div");
    opts.className = "opts";

    c.opcoes.forEach((txt)=>{
      const b = document.createElement("button");
      b.className = "opt";
      b.type = "button";
      b.textContent = txt;

      b.addEventListener("click",(e)=>{
        e.stopPropagation();
        if(c.locked) return;

        const all = opts.querySelectorAll(".opt");
        all.forEach(x=>x.classList.add("lock"));

        if(txt === c.correta){
          b.classList.add("correct");
          score += Number(c.pts||0);
          $score.textContent = score;
        }else{
          b.classList.add("wrong");
          all.forEach(x=>{
            if(x.textContent === c.correta) x.classList.add("correct");
          });
        }

        c.locked = true;
        wrap.classList.add("locked");
        answered++;
        $answered.textContent = answered;
      });

      opts.appendChild(b);
    });

    front.appendChild(tag);
    front.appendChild(q);
    front.appendChild(sil);
    front.appendChild(opts);

    inner.appendChild(back);
    inner.appendChild(front);
    wrap.appendChild(inner);

    wrap.addEventListener("click",()=>{
  if(c.locked) return;

  const snd = document.getElementById("sndFlip");
  if(snd){
    snd.currentTime = 0;
    snd.play().catch(()=>{});
  }

  wrap.classList.toggle("flipped");
});


    $grid.appendChild(wrap);
  });
}

/* impress√£o (frentes + capas, em 2 blocos/p√°ginas) */
function renderPrintArea(){
  $printArea.innerHTML = "";

  // ====== BLOCO 1: FRENTES ======
  const t1 = document.createElement("h2");
  t1.className = "sheetTitle";
  t1.textContent = "FRENTES (Cartas)";

  const g1 = document.createElement("div");
  g1.className = "sheetGrid";

  cards.forEach((c)=>{
    const card = document.createElement("div");
    card.className = "pCard";

    const front = document.createElement("div");
    front.className = "pFront " + (c.silhueta ? "sil" : "");

    const topline = document.createElement("div");
    topline.className = "pTopline";
    topline.innerHTML = `
  <span class="pTag">üí∞ ${c.pts}</span>
`;


    const q = document.createElement("div");
    q.className = "pQ";
    q.textContent = c.pergunta;

    const opts = document.createElement("div");
    opts.className = "pOpts";
    c.opcoes.forEach((txt)=>{
      const o = document.createElement("div");
      o.className = "pOpt";
      o.textContent = txt;
      opts.appendChild(o);
    });

    front.appendChild(topline);
    front.appendChild(q);
    front.appendChild(opts);

    // silhueta: s√≥ nas cartas silhueta e ao lado
    if(c.silhueta){
      const sil = document.createElement("div");
      sil.className = "pSil";
      sil.innerHTML = `<img src="sil_${c.orgId}.png" alt="" onerror="this.style.display='none'">`;
      front.appendChild(sil);
    }

    card.appendChild(front);
    g1.appendChild(card);
  });

  // ====== BLOCO 2: CAPAS ======
  const br = document.createElement("div");
  br.className = "pageBreak";

  const t2 = document.createElement("h2");
  t2.className = "sheetTitle";
  t2.textContent = "CAPAS (Versos)";

  const g2 = document.createElement("div");
  g2.className = "sheetGrid";

  cards.forEach(()=>{
    const card = document.createElement("div");
    card.className = "pCard";

    const back = document.createElement("div");
    back.className = "pBack";
    back.innerHTML = `
      <img src="deck_capa.png" alt="Capa do baralho">
      <div class="pStamp">CLIQUE PARA VIRAR</div>
    `;

    card.appendChild(back);
    g2.appendChild(card);
  });

  $printArea.appendChild(t1);
  $printArea.appendChild(g1);
  $printArea.appendChild(br);
  $printArea.appendChild(t2);
  $printArea.appendChild(g2);
}

init();
</script>
<audio id="sndFlip" src="card_flip.mp3" preload="auto"></audio>

</body>
</html>
